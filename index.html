<!DOCTYPE html>
<html lang="ko" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2026 시니어 스마트 생활 교실 - 수강신청</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700;900&display=swap" rel="stylesheet">
    <style>
        body { 
            font-family: 'Noto Sans KR', sans-serif; 
            background-color: #F0FDFA; 
            color: #134E4A; 
            word-wrap: break-word;
        }

        h1, h2, h3, h4, h5, h6, .nav-link, button, th { word-break: keep-all; }

        /* 헤더 스타일 */
        .nature-header {
            background: rgba(255, 255, 255, 0.98);
            backdrop-filter: blur(8px);
            border-bottom: 3px solid #14B8A6;
            z-index: 50;
        }

        /* 유기적인 곡선 스타일 */
        .organic-shape { border-radius: 2rem 1rem 2rem 1rem; }
        .organic-shape-reverse { border-radius: 1rem 2rem 1rem 2rem; }

        /* 카드 스타일 */
        .clean-card {
            background: #FFFFFF;
            border: 1px solid #CCFBF1;
            box-shadow: 0 4px 6px -1px rgba(20, 184, 166, 0.1), 0 2px 4px -1px rgba(20, 184, 166, 0.06);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        .clean-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 25px -5px rgba(20, 184, 166, 0.15), 0 10px 10px -5px rgba(20, 184, 166, 0.1);
            border-color: #5EEAD4;
        }

        /* 네비게이션 버튼 스타일 */
        .nav-link {
            padding: 0.5rem 1.0rem;
            margin: 0 0.1rem;
            font-weight: 600;
            color: #57534E;
            border-radius: 1rem;
            transition: all 0.2s ease;
        }
        .nav-link:hover { background-color: #E0F2F1; color: #0D9488; }
        .nav-link.active { background-color: #0D9488; color: white; box-shadow: 0 4px 6px -1px rgba(13, 148, 136, 0.4); }
        .nav-cta.active { background-color: #0D9488; color: white; }

        /* 테이블 스타일 */
        .forest-table th { background-color: #115E59; color: #CCFBF1; font-weight: 500; border-right: 1px solid #134E4A; padding: 1rem; }
        .forest-table td { padding: 1rem 0.75rem; vertical-align: middle; border-bottom: 1px solid #E2E8F0; }
        .forest-table tr:hover td { background-color: #F0FDFA; }

        /* 🚨 모달 스타일 개선 (스크롤 및 모바일 대응) */
        .modal-overlay {
            display: none;
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background-color: rgba(19, 78, 74, 0.8);
            backdrop-filter: blur(4px);
            z-index: 10000;
            justify-content: center; 
            align-items: flex-start; /* 상단 정렬 */
            padding: 20px;
            overflow-y: auto; /* 전체 스크롤 */
        }
        .modal-active { display: flex !important; animation: fadeScale 0.3s ease-out; }
        
        .modal-content {
            background: #FFFFFF; 
            border-radius: 1.5rem;
            border-top: 8px solid #0D9488;
            width: 100%; max-width: 500px;
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
            /* 모바일 화면 대응 */
            margin-top: 2rem;
            margin-bottom: 2rem;
            position: relative;
        }
        
        @keyframes fadeScale { from { opacity: 0; transform: scale(0.95); } to { opacity: 1; transform: scale(1); } }

        section { scroll-margin-top: 100px; }
        
        .text-gradient-forest {
            background: linear-gradient(to right, #0F766E, #059669);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        /* 체크박스 커스텀 */
        .custom-checkbox:checked + div {
            border-color: #0D9488;
            background-color: #F0FDFA;
            color: #0F766E;
        }
    </style>
</head>
<body class="antialiased selection:bg-teal-200 selection:text-teal-900">

    <!-- 헤더 -->
    <header class="nature-header fixed w-full top-0 z-50 h-20 flex items-center justify-between px-4">
        <div class="flex items-center gap-2 group">
            <div class="flex items-center gap-2 cursor-pointer" onclick="window.scrollTo(0,0); resetNav();">
                <span class="text-3xl transform group-hover:rotate-12 transition-transform duration-300">🍃</span>
                <h1 class="text-xl md:text-2xl font-black text-teal-900 tracking-tight">시니어 스마트 생활 교실</h1>
            </div>
        </div>
        
        <div class="flex items-center gap-3">
            <nav class="hidden lg:flex items-center" id="main-nav">
                <a href="#home" class="nav-link">홈</a>
                <a href="#about" class="nav-link">교육 소개</a>
                <a href="#gallery" class="nav-link">작품 갤러리</a>
                <a href="#directions" class="nav-link">오시는 길</a>
                <a href="#schedule" class="nav-link">일정표</a>
                <a href="#plan" class="nav-link">교육계획서</a>
                <a href="#apply" class="nav-link nav-cta">수강 신청</a>
            </nav>

            <!-- QR코드 버튼 -->
            <button onclick="openQrModal()" class="p-1 bg-white border-2 border-teal-200 rounded-lg hover:border-teal-500 hover:shadow-md transition flex flex-col items-center" title="QR코드 크게 보기">
                <img src="https://api.qrserver.com/v1/create-qr-code/?size=100x100&data=https://dodam20190325.github.io/senior3&color=115E59" alt="QR" class="w-8 h-8">
                <span class="text-[0.6rem] font-bold text-teal-700 leading-none mt-0.5">Mobile</span>
            </button>
            
            <button id="mobile-menu-btn" class="lg:hidden text-teal-800 p-2 focus:outline-none">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7" />
                </svg>
            </button>
        </div>
    </header>

    <!-- 모바일 메뉴 -->
    <div id="mobile-menu" class="hidden fixed top-20 left-0 w-full bg-[#F0FDFA]/98 backdrop-blur-md z-40 border-b border-teal-200 shadow-xl lg:hidden transition-all duration-300">
        <nav class="flex flex-col p-6 space-y-4 text-center">
            <a href="#home" class="text-lg font-bold text-teal-800 hover:text-teal-600 py-2 border-b border-teal-100">홈</a>
            <a href="#about" class="text-lg font-bold text-teal-800 hover:text-teal-600 py-2 border-b border-teal-100">교육 소개</a>
            <a href="#gallery" class="text-lg font-bold text-teal-800 hover:text-teal-600 py-2 border-b border-teal-100">작품 갤러리</a>
            <a href="#directions" class="text-lg font-bold text-teal-800 hover:text-teal-600 py-2 border-b border-teal-100">오시는 길</a>
            <a href="#schedule" class="text-lg font-bold text-teal-800 hover:text-teal-600 py-2 border-b border-teal-100">일정표</a>
            <a href="#plan" class="text-lg font-bold text-teal-800 hover:text-teal-600 py-2 border-b border-teal-100">교육계획서</a>
            <a href="#apply" class="text-lg font-bold text-white bg-teal-600 py-3 rounded-2xl shadow-md mt-2 organic-shape hover:bg-teal-700 transition">수강 신청</a>
        </nav>
    </div>

    <main class="pt-28 pb-16">
        <!-- 홈 -->
        <section class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mb-24" id="home">
            <div class="bg-white rounded-[3rem] p-8 md:p-16 shadow-xl relative overflow-hidden flex flex-col-reverse md:flex-row items-center gap-12 border border-teal-50">
                <div class="absolute top-0 left-0 w-full h-4 bg-gradient-to-r from-teal-400 to-emerald-500"></div>
                <div class="relative z-10 w-full md:w-3/5 text-center md:text-left">
                    <span class="inline-flex items-center gap-2 py-1.5 px-4 rounded-full bg-teal-50 border border-teal-100 text-teal-700 text-sm font-bold mb-8">
                        <span class="w-2 h-2 bg-teal-500 rounded-full animate-pulse"></span>
                        2026 부산시 지원사업
                    </span>
                    <h2 class="text-4xl md:text-6xl font-black mb-8 leading-tight text-slate-800">
                        <span class="text-gradient-forest">인공지능(AI)</span>과 함께하는<br>
                        품격 있는 스마트 라이프
                    </h2>
                    <p class="text-lg md:text-xl text-slate-500 mb-12 leading-relaxed">
                        복잡한 세상, AI가 당신의 든든한 길잡이가 됩니다.<br>
                        기초부터 활용까지 쉽고 재미있게 시작해보세요.
                    </p>
                    <div class="flex flex-col sm:flex-row gap-4 justify-center md:justify-start">
                        <a href="#apply" class="px-10 py-4 bg-teal-600 text-white text-lg font-bold organic-shape hover:bg-teal-700 transition shadow-lg shadow-teal-500/30 flex items-center justify-center gap-2">
                            지금 신청하기 <span class="text-xl">👉</span>
                        </a>
                        <a href="#schedule" class="px-10 py-4 bg-white text-teal-700 text-lg font-bold organic-shape border-2 border-teal-100 hover:border-teal-300 hover:bg-teal-50 transition flex items-center justify-center gap-2">
                            일정 확인하기 <span class="text-xl">📅</span>
                        </a>
                    </div>
                </div>

                <div class="relative z-10 w-full md:w-2/5 flex justify-center">
                    <div class="bg-teal-50 p-8 rounded-[2.5rem] border border-teal-100 shadow-xl text-center transform hover:scale-105 transition duration-300 w-full max-w-sm">
                        <div class="bg-white rounded-3xl p-4 shadow-sm mb-6 inline-block">
                            <img src="https://api.qrserver.com/v1/create-qr-code/?size=250x250&data=https://dodam20190325.github.io/senior3&color=115E59" alt="QR Code" class="w-48 h-48 md:w-56 md:h-56">
                        </div>
                        <h4 class="text-xl font-black text-teal-800 mb-2">모바일로 바로가기</h4>
                        <p class="text-slate-500 text-sm font-medium">스마트폰 카메라로 스캔하세요!</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- 교육 소개 -->
        <section id="about" class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mb-32">
            <div class="text-center mb-16">
                <h3 class="text-3xl md:text-4xl font-black text-teal-900 mb-3">무엇을 배우나요?</h3>
                <p class="text-lg text-slate-500">PC 기초부터 최신 AI 활용까지! (교육장별 과정 상이)</p>
            </div>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                <!-- PC 기초 과정 -->
                <div class="clean-card p-8 organic-shape-reverse hover:bg-teal-50/50 group">
                    <div class="w-16 h-16 bg-teal-100 text-teal-600 rounded-2xl flex items-center justify-center text-3xl mb-6 group-hover:scale-110 transition-transform">💻</div>
                    <h4 class="text-2xl font-bold mb-3 text-slate-800">PC 기초 및 디지털 생활 (3일 과정)</h4>
                    <ul class="text-slate-600 leading-relaxed mb-4 text-sm space-y-2 text-left">
                        <li><strong>1일차:</strong> 컴퓨터와 친해지기 (전원, 마우스, 자판 익히기)</li>
                        <li><strong>2일차:</strong> 나만의 문서 만들기 (타자 연습, 간단한 글쓰기)</li>
                        <li><strong>3일차:</strong> 구글 계정, 정보 검색, 정부24 민원 조회/발급</li>
                    </ul>
                    <div class="w-12 h-1 bg-teal-200 rounded-full group-hover:w-20 transition-all"></div>
                </div>
                <!-- AI 활용 과정 -->
                <div class="clean-card p-8 organic-shape-reverse hover:bg-teal-50/50 group">
                    <div class="w-16 h-16 bg-emerald-100 text-emerald-600 rounded-2xl flex items-center justify-center text-3xl mb-6 group-hover:scale-110 transition-transform">🤖</div>
                    <h4 class="text-2xl font-bold mb-3 text-slate-800">AI 활용 및 크리에이터 (3일 과정)</h4>
                    <ul class="text-slate-600 leading-relaxed mb-4 text-sm space-y-2 text-left">
                        <li><strong>1일차:</strong> AI 이미지 생성 & 영상 변환 (상상을 현실로)</li>
                        <li><strong>2일차:</strong> AI 영상 편집 (브루 Vrew 활용하기)</li>
                        <li><strong>3일차:</strong> AI 크리에이터 (유튜브 채널 개설 및 업로드)</li>
                    </ul>
                    <div class="w-12 h-1 bg-emerald-200 rounded-full group-hover:w-20 transition-all"></div>
                </div>
            </div>
        </section>

        <!-- 작품 갤러리 -->
        <section id="gallery" class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mb-32">
            <div class="bg-teal-800 rounded-[3rem] p-8 md:p-16 text-white shadow-2xl overflow-hidden relative">
                <div class="relative z-10 text-center mb-12">
                    <span class="px-4 py-1.5 rounded-full bg-teal-900 border border-teal-700 text-teal-300 text-sm font-bold tracking-wide">GALLERY</span>
                    <h3 class="text-3xl md:text-4xl font-black mt-4 mb-4">수강생 작품 갤러리</h3>
                    <p class="text-lg text-teal-200">수업 중에 만든 작품을 실제 굿즈로 제작해 드립니다.</p>
                </div>
                <div class="relative z-10 grid grid-cols-2 md:grid-cols-4 gap-6">
                    <div class="bg-white/10 backdrop-blur-sm p-4 rounded-3xl text-center group border border-white/10 hover:bg-white/20 transition duration-300">
                        <div class="aspect-square bg-white rounded-2xl mb-4 overflow-hidden relative shadow-lg"><img src="머그컵사진.png" alt="머그컵" class="w-full h-full object-cover group-hover:scale-110 transition-transform" onerror="this.src='https://via.placeholder.com/300x300.png?text=Mug'"></div>
                        <h5 class="font-bold text-white text-lg">나만의 머그컵</h5>
                    </div>
                    <div class="bg-white/10 backdrop-blur-sm p-4 rounded-3xl text-center group border border-white/10 hover:bg-white/20 transition duration-300">
                        <div class="aspect-square bg-white rounded-2xl mb-4 overflow-hidden relative shadow-lg"><img src="에코백사진.png" alt="에코백" class="w-full h-full object-cover group-hover:scale-110 transition-transform" onerror="this.src='https://via.placeholder.com/300x300.png?text=Ecobag'"></div>
                        <h5 class="font-bold text-white text-lg">에코백</h5>
                    </div>
                    <div class="bg-white/10 backdrop-blur-sm p-4 rounded-3xl text-center group border border-white/10 hover:bg-white/20 transition duration-300">
                        <div class="aspect-square bg-white rounded-2xl mb-4 overflow-hidden relative shadow-lg"><img src="화강암사진.png" alt="석화타일" class="w-full h-full object-cover group-hover:scale-110 transition-transform" onerror="this.src='https://via.placeholder.com/300x300.png?text=Tile'"></div>
                        <h5 class="font-bold text-white text-lg">석화 타일</h5>
                    </div>
                    <div class="bg-white/10 backdrop-blur-sm p-4 rounded-3xl text-center group border border-white/10 hover:bg-white/20 transition duration-300">
                        <div class="aspect-square bg-white rounded-2xl mb-4 overflow-hidden relative shadow-lg"><img src="키링사진.png" alt="키링" class="w-full h-full object-cover group-hover:scale-110 transition-transform" onerror="this.src='https://via.placeholder.com/300x300.png?text=Keyring'"></div>
                        <h5 class="font-bold text-white text-lg">캐릭터 키링</h5>
                    </div>
                </div>
            </div>
        </section>

        <!-- 오시는 길 -->
        <section id="directions" class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mb-32">
            <div class="text-center mb-16">
                <h3 class="text-3xl md:text-4xl font-black text-teal-900 mb-4">가까운 교육장 찾기</h3>
                <p class="text-lg text-slate-500">지하철역과 가까워서 찾아오시기 편합니다.</p>
            </div>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <!-- 1. 거제3동 -->
                <div class="clean-card p-6 flex items-start gap-6 organic-shape group hover:border-teal-400">
                    <div class="w-16 h-16 rounded-full bg-teal-100 text-teal-600 flex items-center justify-center text-3xl group-hover:bg-teal-600 group-hover:text-white transition-colors duration-300">🏢</div>
                    <div>
                        <h4 class="font-bold text-xl text-slate-800 mb-1">거제3동 행복복지센터</h4>
                        <p class="text-slate-500 mb-3">부산광역시 연제구 거제시장로 22 (2층)</p>
                        <div class="inline-flex items-center gap-1.5 px-3 py-1 rounded-full bg-teal-50 text-xs font-bold text-teal-700">1호선 시청역 / 3호선 거제역</div>
                    </div>
                </div>
                <!-- 2. 부산유라시아플랫폼 -->
                <div class="clean-card p-6 flex items-start gap-6 organic-shape group hover:border-teal-400">
                    <div class="w-16 h-16 rounded-full bg-teal-100 text-teal-600 flex items-center justify-center text-3xl group-hover:bg-teal-600 group-hover:text-white transition-colors duration-300">🚆</div>
                    <div>
                        <h4 class="font-bold text-xl text-slate-800 mb-1">부산유라시아플랫폼</h4>
                        <p class="text-slate-500 mb-3">부산광역시 동구 중앙대로 206 (112호)</p>
                        <div class="inline-flex items-center gap-1.5 px-3 py-1 rounded-full bg-teal-50 text-xs font-bold text-teal-700">1호선 부산역 광장</div>
                    </div>
                </div>
                <!-- 3. 북구청 제2별관 -->
                <div class="clean-card p-6 flex items-start gap-6 organic-shape group hover:border-emerald-400">
                    <div class="w-16 h-16 rounded-full bg-emerald-100 text-emerald-600 flex items-center justify-center text-3xl group-hover:bg-emerald-600 group-hover:text-white transition-colors duration-300">🏛️</div>
                    <div>
                        <h4 class="font-bold text-xl text-slate-800 mb-1">북구청 제2별관 정보화교육장</h4>
                        <p class="text-slate-500 mb-3">부산광역시 북구 낙동대로 1570번길 33</p>
                        <div class="inline-flex items-center gap-1.5 px-3 py-1 rounded-full bg-emerald-50 text-xs font-bold text-emerald-700">2호선 구명역 1번 출구</div>
                    </div>
                </div>
                <!-- 4. 부산도서관 -->
                <div class="clean-card p-6 flex items-start gap-6 organic-shape group hover:border-emerald-400">
                    <div class="w-16 h-16 rounded-full bg-emerald-100 text-emerald-600 flex items-center justify-center text-3xl group-hover:bg-emerald-600 group-hover:text-white transition-colors duration-300">📖</div>
                    <div>
                        <h4 class="font-bold text-xl text-slate-800 mb-1">부산도서관 2층 소담방5</h4>
                        <p class="text-slate-500 mb-3">부산광역시 사상구 사상로 310번길 33</p>
                        <div class="inline-flex items-center gap-1.5 px-3 py-1 rounded-full bg-emerald-50 text-xs font-bold text-emerald-700">2호선 덕포역 2번 출구</div>
                    </div>
                </div>
            </div>
        </section>

        <!-- 전체 일정표 -->
        <section id="schedule" class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mb-32">
            <div class="clean-card overflow-hidden organic-shape-reverse border-none">
                <div class="p-8 bg-teal-700 text-white flex flex-col md:flex-row md:items-center justify-between gap-4">
                    <div>
                        <h3 class="text-2xl font-bold">통합 교육 일정 (2월 ~ 4월)</h3>
                        <p class="text-teal-200 mt-1">원하시는 기간을 확인하세요.</p>
                    </div>
                </div>
                <div class="overflow-x-auto">
                    <table class="w-full text-left border-collapse forest-table min-w-[900px]">
                        <thead>
                            <tr class="text-white">
                                <th class="p-5 w-24 text-center">월</th>
                                <th class="p-5 w-36">기간</th>
                                <th class="p-5 bg-teal-800">거제3동 행복복지센터 (5기)<br><span class="text-xs font-normal text-teal-300">09:30 ~ 11:30</span></th>
                                <th class="p-5 bg-teal-800">부산유라시아플랫폼 (5기)<br><span class="text-xs font-normal text-teal-300">14:00 ~ 16:00</span></th>
                                <th class="p-5 bg-teal-900">북구청 제2별관 (4기)<br><span class="text-xs font-normal text-teal-400">10:00 ~ 12:00</span></th>
                                <th class="p-5 bg-teal-900">부산도서관 (4기)<br><span class="text-xs font-normal text-teal-400">14:00 ~ 16:00</span></th>
                            </tr>
                        </thead>
                        <tbody class="text-sm font-medium text-slate-600 bg-white">
                            <tr><td class="p-5 text-center font-bold text-slate-400 border-r">2월</td><td class="p-5 border-r">02.23 ~ 02.28</td><td class="p-5 bg-teal-50/50 text-teal-700 font-bold border-r border-teal-100">제1기 (월수금)<br><span class="px-2 py-0.5 bg-teal-100 text-teal-800 rounded text-xs mt-1 inline-block">💻 PC 기초</span></td><td class="p-5 bg-teal-50/50 border-r border-teal-100">제1기 (월수금)</td><td class="p-5 text-slate-300 border-r">-</td><td class="p-5 text-slate-300">-</td></tr>
                            <tr><td rowspan="5" class="p-5 text-center font-bold text-slate-800 border-t border-slate-200 border-r">3월</td><td class="p-5 border-t border-slate-200 border-r">03.02 ~ 03.07</td><td class="p-5 border-t border-teal-100 bg-teal-50/50 text-teal-700 font-bold border-r">제2기 (화수금)<br><span class="text-[10px] text-red-500 block mb-1">*공휴일 대체</span><span class="px-2 py-0.5 bg-teal-100 text-teal-800 rounded text-xs mt-1 inline-block">💻 PC 기초</span></td><td class="p-5 border-t border-teal-100 bg-teal-50/50 border-r">제2기 (화수금)</td><td class="p-5 border-t border-slate-200 text-slate-300 border-r">-</td><td class="p-5 border-t border-slate-200 text-slate-300">-</td></tr>
                            <tr><td class="p-5 border-r">03.09 ~ 03.14</td><td class="p-5 bg-teal-50/50 border-r border-teal-100 text-slate-300">-</td><td class="p-5 bg-teal-50/50 border-r border-teal-100 text-slate-300">-</td><td class="p-5 font-bold text-slate-800 border-r">제1기 (월수금)</td><td class="p-5">제1기 (월수금)</td></tr>
                            <tr><td class="p-5 border-r">03.16 ~ 03.21</td><td class="p-5 bg-teal-50/50 border-r border-teal-100 text-teal-700 font-bold">제3기 (월수금)<br><span class="px-2 py-0.5 bg-emerald-100 text-emerald-800 rounded text-xs mt-1 inline-block">🤖 AI 활용</span></td><td class="p-5 bg-teal-50/50 border-r border-teal-100">제3기 (월수금)</td><td class="p-5 text-slate-300 border-r">-</td><td class="p-5 text-slate-300">-</td></tr>
                            <tr><td class="p-5 border-r">03.23 ~ 03.28</td><td class="p-5 bg-teal-50/50 border-r border-teal-100 text-slate-300">-</td><td class="p-5 bg-teal-50/50 border-r border-teal-100 text-slate-300">-</td><td class="p-5 font-bold text-slate-800 border-r">제2기 (월수금)</td><td class="p-5">제2기 (월수금)</td></tr>
                            <tr><td class="p-5 border-r">03.30 ~ 04.04</td><td class="p-5 bg-teal-50/50 border-r border-teal-100 text-teal-700 font-bold">제4기 (월수금)<br><span class="px-2 py-0.5 bg-emerald-100 text-emerald-800 rounded text-xs mt-1 inline-block">🤖 AI 활용</span></td><td class="p-5 bg-teal-50/50 border-r border-teal-100">제4기 (월수금)</td><td class="p-5 text-slate-300 border-r">-</td><td class="p-5 text-slate-300">-</td></tr>
                            <tr><td rowspan="3" class="p-5 text-center font-bold text-slate-800 border-t border-slate-200 border-r">4월</td><td class="p-5 border-t border-slate-200 border-r">04.06 ~ 04.11</td><td class="p-5 border-t border-teal-100 bg-teal-50/50 text-teal-700 font-bold border-r">
                                    제5기 (월수금)<br><span class="px-2 py-0.5 bg-emerald-100 text-emerald-800 rounded text-xs mt-1 inline-block">🤖 AI 활용</span>
                                </td><td class="p-5 border-t border-teal-100 bg-teal-50/50 border-r">제5기 (월수금)</td><td class="p-5 border-t border-slate-200 text-slate-300 border-r">-</td><td class="p-5 border-t border-slate-200 text-slate-300">-</td></tr>
                            <tr><td class="p-5 border-r">04.13 ~ 04.18</td><td class="p-5 bg-teal-50/50 border-r border-teal-100 text-slate-300">-</td><td class="p-5 bg-teal-50/50 border-r border-teal-100 text-slate-300">-</td><td class="p-5 font-bold text-slate-800 border-r">제3기 (월수금)</td><td class="p-5">제3기 (월수금)</td></tr>
                            <tr><td class="p-5 border-r">04.20 ~ 04.25</td><td class="p-5 bg-teal-50/50 border-r border-teal-100 text-slate-300">-</td><td class="p-5 bg-teal-50/50 border-r border-teal-100 text-slate-300">-</td><td class="p-5 font-bold text-slate-800 border-r">제4기 (월수금)</td><td class="p-5">제4기 (월수금)</td></tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </section>

        <!-- 상세 교육 계획서 섹션 (수정됨: 1일차~3일차 상세 내용 반영) -->
        <section id="plan" class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mb-32">
            <!-- 1. 거제3동 & 유라시아 (5주) -->
            <div class="clean-card overflow-hidden organic-shape border-none mb-12">
                <div class="p-8 bg-teal-700 text-white flex justify-between items-center flex-wrap gap-4">
                    <div><h3 class="text-2xl font-bold">거제3동 행복복지센터 & 부산유라시아플랫폼</h3><p class="text-teal-100 mt-1">상세 교육 계획서 (5주 / 15차시 / 주 3회)</p></div>
                    <span class="px-4 py-2 bg-white/20 rounded-lg text-sm font-bold backdrop-blur-sm">총 5주 과정</span>
                </div>
                <div class="overflow-x-auto">
                    <table class="w-full text-left border-collapse forest-table min-w-[800px]">
                        <thead>
                            <tr class="text-white"><th class="p-4 bg-teal-800 w-20 text-center">기수</th><th class="p-4 bg-teal-800 w-20 text-center">일차</th><th class="p-4 bg-teal-800 w-32">구분</th><th class="p-4 bg-teal-800 w-96">주요 학습 내용</th><th class="p-4 bg-teal-900 w-32 text-center">비고</th></tr>
                        </thead>
                        <tbody class="text-sm font-medium text-slate-700 bg-white">
                            <!-- PC 기초 (1~2기) -->
                            <tr><td rowspan="3" class="p-4 border-r text-center font-bold text-teal-700 bg-teal-50/30">1~2기<br>(PC)</td><td class="p-4 border-r text-center">1일차</td><td class="p-4 border-r font-bold">컴퓨터와 친해지기</td><td class="p-4">전원 켜기/끄기, 마우스/키보드 사용법, 바탕화면 다루기</td><td class="p-4 border-l text-center text-slate-400">PC 기초</td></tr>
                            <tr><td class="p-4 border-r text-center">2일차</td><td class="p-4 border-r font-bold">문서 만들기</td><td class="p-4">한글 타자 연습, 간단한 글쓰기 및 저장</td><td class="p-4 border-l text-center text-slate-400">-</td></tr>
                            <tr><td class="p-4 border-r text-center">3일차</td><td class="p-4 border-r font-bold">인터넷 활용</td><td class="p-4">구글 계정 생성, 검색/즐겨찾기, 정부24 민원 조회 및 발급</td><td class="p-4 border-l text-center text-slate-400">-</td></tr>
                            
                            <!-- AI 활용 (3~5기) -->
                            <tr><td rowspan="3" class="p-4 border-r text-center font-bold text-teal-700 bg-teal-50/30">3~5기<br>(AI)</td><td class="p-4 border-r text-center">1일차</td><td class="p-4 border-r font-bold">AI 아트</td><td class="p-4">이미지 만들기(생성형 AI), 이미지를 영상으로 만들기</td><td class="p-4 border-l text-center text-slate-400">AI 활용</td></tr>
                            <tr><td class="p-4 border-r text-center">2일차</td><td class="p-4 border-r font-bold">영상 편집</td><td class="p-4">브루(Vrew)로 영상 제작하기</td><td class="p-4 border-l text-center text-slate-400">-</td></tr>
                            <tr><td class="p-4 border-r text-center">3일차</td><td class="p-4 border-r font-bold">크리에이터</td><td class="p-4">AI 크리에이터: 유튜브 계정 및 채널 만들기</td><td class="p-4 border-l text-center text-slate-400">-</td></tr>
                        </tbody>
                    </table>
                </div>
            </div>
            
            <!-- 2. 북구청 & 부산도서관 (4주) -->
            <div class="clean-card overflow-hidden organic-shape border-none">
                <div class="p-8 bg-emerald-700 text-white flex justify-between items-center flex-wrap gap-4">
                    <div><h3 class="text-2xl font-bold">북구청 제2별관 & 부산도서관</h3><p class="text-emerald-100 mt-1">상세 교육 계획서 (4주 / 12차시 / 주 3회)</p></div>
                    <span class="px-4 py-2 bg-white/20 rounded-lg text-sm font-bold backdrop-blur-sm">총 4주 과정 (전체 AI)</span>
                </div>
                <div class="overflow-x-auto">
                    <table class="w-full text-left border-collapse forest-table min-w-[800px]">
                        <thead>
                            <tr class="text-white"><th class="p-4 bg-emerald-800 w-20 text-center">주차</th><th class="p-4 bg-emerald-800 w-20 text-center">일차</th><th class="p-4 bg-emerald-800 w-32">구분</th><th class="p-4 bg-emerald-800 w-48">주요 내용</th><th class="p-4 bg-emerald-900">상세 학습 내용</th><th class="p-4 bg-emerald-900 w-32 text-center">비고</th></tr>
                        </thead>
                        <tbody class="text-sm font-medium text-slate-700 bg-white">
                            <tr><td rowspan="3" class="p-4 border-r text-center font-bold text-emerald-700 bg-emerald-50/30">1~4기<br>(공통)</td><td class="p-4 border-r text-center">1일차</td><td class="p-4 border-r text-slate-500">AI 아트</td><td class="p-4 border-r font-bold">이미지 생성</td><td class="p-4">이미지 만들기, 이미지를 영상으로 만들기</td><td class="p-4 border-l text-center text-slate-400">AI 활용</td></tr>
                            <tr><td class="p-4 border-r text-center">2일차</td><td class="p-4 border-r text-slate-500">영상 편집</td><td class="p-4 border-r font-bold">브루(Vrew) 활용</td><td class="p-4">브루로 영상 제작하기</td><td class="p-4 border-l text-center text-slate-400">-</td></tr>
                            <tr><td class="p-4 border-r text-center">3일차</td><td class="p-4 border-r text-slate-500">크리에이터</td><td class="p-4 border-r font-bold">유튜브 시작</td><td class="p-4">AI 크리에이터: 유튜브 계정 및 채널 만들기</td><td class="p-4 border-l text-center text-slate-400">-</td></tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </section>

        <!-- 수강 신청 섹션 (복구됨) -->
        <section id="apply" class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mb-32">
            <div class="text-center mb-16">
                <span class="inline-block py-2 px-6 rounded-full bg-teal-600 text-white text-sm font-bold mb-6 shadow-lg shadow-teal-500/30">수강 신청</span>
                <h3 class="text-3xl md:text-4xl font-black text-teal-900 mb-4">교육 장소 선택하기</h3>
                <p class="text-lg text-slate-500">원하시는 교육장을 선택하시면 신청서가 열립니다.</p>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
                <!-- 1. 거제3동 -->
                <div class="clean-card p-6 flex flex-col group relative overflow-hidden organic-shape-reverse cursor-pointer" onclick="openModal('거제3동 행복복지센터 2층 정보화교육장')">
                    <div class="absolute top-0 right-0 bg-teal-600 text-white text-sm font-bold px-4 py-2 rounded-bl-2xl z-10">오전반</div>
                    <div class="w-14 h-14 bg-teal-100 rounded-full flex items-center justify-center text-3xl mb-4 group-hover:bg-teal-600 group-hover:text-white transition-colors duration-300">🏢</div>
                    <h4 class="text-xl font-bold text-slate-800 mb-1">거제3동 행복복지센터</h4>
                    <p class="text-sm text-slate-500 mb-6 font-medium">2층 정보화교육장</p>
                    <div class="space-y-4 mb-8 flex-grow">
                        <div class="flex items-start gap-3 text-sm"><span class="text-teal-400 mt-0.5">🕒</span><div><span class="font-bold text-teal-600 block text-base">09:30 ~ 11:30</span><span class="text-xs text-slate-400">2시간 수업</span></div></div>
                        <div class="flex items-start gap-3 text-sm"><span class="text-teal-400 mt-0.5">📚</span><div class="flex flex-col gap-1"><span class="text-sm text-slate-600">• 1~2기: PC 기초</span><span class="text-sm text-slate-600">• 3~5기: AI 활용</span></div></div>
                    </div>
                    <button class="w-full py-4 rounded-xl bg-teal-50 text-teal-800 font-bold hover:bg-teal-600 hover:text-white transition text-lg border border-teal-100 pointer-events-none">신청하기</button>
                </div>
                <!-- 2. 부산유라시아플랫폼 -->
                <div class="clean-card p-6 flex flex-col group relative overflow-hidden organic-shape-reverse cursor-pointer" onclick="openModal('부산유라시아플랫폼 112호')">
                    <div class="absolute top-0 right-0 bg-slate-600 text-white text-sm font-bold px-4 py-2 rounded-bl-2xl z-10">오후반</div>
                    <div class="w-14 h-14 bg-teal-100 rounded-full flex items-center justify-center text-3xl mb-4 group-hover:bg-teal-600 group-hover:text-white transition-colors duration-300">🚆</div>
                    <h4 class="text-xl font-bold text-slate-800 mb-1">부산유라시아플랫폼</h4>
                    <p class="text-sm text-slate-500 mb-6 font-medium">112호</p>
                    <div class="space-y-4 mb-8 flex-grow">
                        <div class="flex items-start gap-3 text-sm"><span class="text-teal-400 mt-0.5">🕒</span><div><span class="font-bold text-slate-700 block text-base">14:00 ~ 16:00</span><span class="text-xs text-slate-400">2시간 수업</span></div></div>
                        <div class="flex items-start gap-3 text-sm"><span class="text-teal-400 mt-0.5">📚</span><div class="flex flex-col gap-1"><span class="text-sm text-slate-600">• 1~2기: PC 기초</span><span class="text-sm text-slate-600">• 3~5기: AI 활용</span></div></div>
                    </div>
                    <button class="w-full py-4 rounded-xl bg-teal-50 text-teal-800 font-bold hover:bg-slate-700 hover:text-white transition text-lg border border-teal-100 pointer-events-none">신청하기</button>
                </div>
                <!-- 3. 북구청 제2별관 -->
                <div class="clean-card p-6 flex flex-col group relative overflow-hidden organic-shape-reverse cursor-pointer" onclick="openModal('북구청 제2별관 정보화교육장')">
                    <div class="absolute top-0 right-0 bg-teal-600 text-white text-sm font-bold px-4 py-2 rounded-bl-2xl z-10">오전반</div>
                    <div class="w-14 h-14 bg-emerald-100 rounded-full flex items-center justify-center text-3xl mb-4 group-hover:bg-emerald-600 group-hover:text-white transition-colors duration-300">🏛️</div>
                    <h4 class="text-xl font-bold text-slate-800 mb-1">북구청 제2별관</h4>
                    <p class="text-sm text-slate-500 mb-6 font-medium">정보화교육장</p>
                    <div class="space-y-4 mb-8 flex-grow">
                        <div class="flex items-start gap-3 text-sm"><span class="text-emerald-400 mt-0.5">🕒</span><div><span class="font-bold text-slate-700 block text-base">10:00 ~ 12:00</span><span class="text-xs text-slate-400">2시간 수업</span></div></div>
                        <div class="flex items-start gap-3 text-sm"><span class="text-emerald-400 mt-0.5">📚</span><div class="flex flex-col gap-1"><span class="text-sm text-slate-600">• 1~4기: AI 활용 전체</span></div></div>
                    </div>
                    <button class="w-full py-4 rounded-xl bg-emerald-50 text-emerald-800 font-bold hover:bg-emerald-600 hover:text-white transition text-lg border border-emerald-100 pointer-events-none">신청하기</button>
                </div>
                <!-- 4. 부산도서관 -->
                <div class="clean-card p-6 flex flex-col group relative overflow-hidden organic-shape-reverse cursor-pointer" onclick="openModal('부산도서관 2층 소담방5')">
                    <div class="absolute top-0 right-0 bg-slate-600 text-white text-sm font-bold px-4 py-2 rounded-bl-2xl z-10">오후반</div>
                    <div class="w-14 h-14 bg-emerald-100 rounded-full flex items-center justify-center text-3xl mb-4 group-hover:bg-emerald-600 group-hover:text-white transition-colors duration-300">📖</div>
                    <h4 class="text-xl font-bold text-slate-800 mb-1">부산도서관</h4>
                    <p class="text-sm text-slate-500 mb-6 font-medium">2층 소담방5</p>
                    <div class="space-y-4 mb-8 flex-grow">
                        <div class="flex items-start gap-3 text-sm"><span class="text-emerald-400 mt-0.5">🕒</span><div><span class="font-bold text-slate-700 block text-base">14:00 ~ 16:00</span><span class="text-xs text-slate-400">2시간 수업</span></div></div>
                        <div class="flex items-start gap-3 text-sm"><span class="text-emerald-400 mt-0.5">📚</span><div class="flex flex-col gap-1"><span class="text-sm text-slate-600">• 1~4기: AI 활용 전체</span></div></div>
                    </div>
                    <button class="w-full py-4 rounded-xl bg-emerald-50 text-emerald-800 font-bold hover:bg-emerald-600 hover:text-white transition text-lg border border-emerald-100 pointer-events-none">신청하기</button>
                </div>
            </div>
        </section>

        <!-- 푸터 -->
        <footer class="max-w-7xl mx-auto px-4 mt-24 pt-12 pb-12 border-t border-teal-200 text-center text-slate-500 text-sm">
            <p class="mb-8 font-bold text-2xl text-teal-800">2026 시니어 스마트 생활 교실 운영사무국</p>
            <div class="flex flex-col md:flex-row justify-center gap-6 mb-12">
                <a href="tel:051-636-0325" class="flex items-center justify-center gap-3 hover:text-teal-600 transition p-6 bg-white rounded-2xl shadow-md border border-teal-100 w-full md:w-auto">
                    <span class="text-3xl">📞</span>
                    <div class="text-left">
                        <span class="block text-xs text-teal-500 font-bold uppercase tracking-wider">문의 전화</span>
                        <span class="text-2xl font-black text-slate-700">051-636-0325</span>
                    </div>
                </a>
                <div class="flex items-center justify-center gap-3 p-6 bg-white rounded-2xl shadow-md border border-teal-100 w-full md:w-auto">
                    <span class="text-3xl">⏰</span>
                    <div class="text-left">
                        <span class="block text-xs text-teal-500 font-bold uppercase tracking-wider">운영 시간</span>
                        <span class="text-2xl font-black text-slate-700">평일 09:00 ~ 18:00</span>
                    </div>
                </div>
            </div>
            
            <p class="opacity-60">© 2026 Busan Smart Senior Program. All rights reserved.</p>
        </footer>
    </main>

    <!-- 신청 양식 팝업 (모달) -->
    <div id="applicationModal" class="modal-overlay">
        <div class="modal-content">
            <div class="bg-teal-700 p-6 flex justify-between items-center sticky top-0 z-10 shrink-0">
                <div>
                    <h3 class="text-2xl font-bold text-white">수강 신청하기</h3>
                    <p class="text-teal-100 text-sm mt-1">원하시는 기수를 모두 선택해주세요.</p>
                </div>
                <button onclick="closeModal()" class="text-teal-200 hover:text-white transition p-2 bg-teal-800 rounded-full">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                    </svg>
                </button>
            </div>
            <div class="p-8 overflow-y-auto">
                <form id="applyForm" onsubmit="submitToGoogleSheet(event)">
                    <div class="mb-6"><label class="block text-sm font-bold text-slate-700 mb-2">신청 교육장</label><input type="text" id="selectedCenter" name="center" class="w-full p-4 bg-teal-50 rounded-2xl text-slate-800 font-bold border-none text-lg" readonly></div>
                    
                    <!-- [수정] 기수 선택 (체크박스 + 날짜 표시) -->
                    <div class="mb-6">
                        <label class="block text-sm font-bold text-slate-700 mb-2">신청 기수 (중복 선택 가능)</label>
                        <div id="termContainer" class="space-y-3 bg-slate-50 p-4 rounded-xl border border-slate-200">
                            <!-- 자바스크립트로 동적 생성됨 -->
                        </div>
                    </div>

                    <div class="mb-6"><label class="block text-sm font-bold text-slate-700 mb-2">성함</label><input type="text" id="userName" name="name" required placeholder="예: 홍길동" class="w-full p-4 border-2 border-teal-100 rounded-2xl focus:outline-none focus:border-teal-500 focus:ring-4 focus:ring-teal-100 transition text-lg placeholder:text-slate-300"></div>
                    <div class="mb-6"><label class="block text-sm font-bold text-slate-700 mb-2">연락처</label><input type="tel" id="userPhone" name="phone" required placeholder="예: 01012345678" maxlength="13" oninput="autoHyphen(this)" class="w-full p-4 border-2 border-teal-100 rounded-2xl focus:outline-none focus:border-teal-500 focus:ring-4 focus:ring-teal-100 transition text-lg placeholder:text-slate-300"><p class="text-xs text-slate-400 mt-1">* 숫자만 입력하시면 자동으로 하이픈(-)이 입력됩니다.</p></div>
                    
                    <div class="mb-6"><label class="block text-sm font-bold text-slate-700 mb-2">성별</label><div class="grid grid-cols-2 gap-3"><label class="cursor-pointer"><input type="radio" name="gender" value="남" class="peer sr-only" required><div class="w-full p-3 border-2 border-teal-100 rounded-xl text-center text-slate-500 font-bold peer-checked:border-teal-600 peer-checked:text-teal-700 peer-checked:bg-teal-50 hover:bg-teal-50 transition">남성</div></label><label class="cursor-pointer"><input type="radio" name="gender" value="여" class="peer sr-only"><div class="w-full p-3 border-2 border-teal-100 rounded-xl text-center text-slate-500 font-bold peer-checked:border-teal-600 peer-checked:text-teal-700 peer-checked:bg-teal-50 hover:bg-teal-50 transition">여성</div></label></div></div>
                    
                    <div class="mb-8"><label class="block text-sm font-bold text-slate-700 mb-2">연령대</label><div class="grid grid-cols-3 gap-3"><label class="cursor-pointer"><input type="radio" name="ageGroup" value="50대" class="peer sr-only" required><div class="w-full p-3 border-2 border-teal-100 rounded-xl text-center text-slate-500 font-bold peer-checked:border-teal-600 peer-checked:text-teal-700 peer-checked:bg-teal-50 hover:bg-teal-50 transition">50대</div></label><label class="cursor-pointer"><input type="radio" name="ageGroup" value="60대" class="peer sr-only"><div class="w-full p-3 border-2 border-teal-100 rounded-xl text-center text-slate-500 font-bold peer-checked:border-teal-600 peer-checked:text-teal-700 peer-checked:bg-teal-50 hover:bg-teal-50 transition">60대</div></label><label class="cursor-pointer"><input type="radio" name="ageGroup" value="70대 이상" class="peer sr-only"><div class="w-full p-3 border-2 border-teal-100 rounded-xl text-center text-slate-500 font-bold peer-checked:border-teal-600 peer-checked:text-teal-700 peer-checked:bg-teal-50 hover:bg-teal-50 transition">70대 이상</div></label></div><p class="text-xs text-slate-400 mt-2">* 해당되는 연령대를 선택해주세요.</p></div>
                    
                    <div id="residenceContainer" class="mb-8 hidden"><label class="block text-sm font-bold text-slate-700 mb-2">거주지 확인 <span class="text-xs font-normal text-teal-600 ml-2" id="residenceNote"></span></label><div class="grid grid-cols-2 gap-3"><label class="cursor-pointer"><input type="radio" name="residence" value="local" class="peer sr-only"><div class="w-full p-3 border-2 border-teal-100 rounded-xl text-center text-slate-500 font-bold peer-checked:border-teal-600 peer-checked:text-teal-700 peer-checked:bg-teal-50 hover:bg-teal-50 transition" id="labelLocal">해당 구 거주</div></label><label class="cursor-pointer"><input type="radio" name="residence" value="other" class="peer sr-only"><div class="w-full p-3 border-2 border-teal-100 rounded-xl text-center text-slate-500 font-bold peer-checked:border-teal-600 peer-checked:text-teal-700 peer-checked:bg-teal-50 hover:bg-teal-50 transition">그 외 지역</div></label></div></div>
                    
                    <button type="submit" id="submitBtn" class="w-full py-5 bg-teal-600 hover:bg-teal-700 text-white font-bold rounded-2xl transition shadow-xl shadow-teal-500/30 flex justify-center items-center gap-2 text-xl transform active:scale-95"><span>제출하기</span><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 5l7 7m0 0l-7 7m7-7H3" /></svg></button>
                </form>
            </div>
        </div>
    </div>

    <!-- QR코드 팝업 -->
    <div id="qrModal" class="modal-overlay" onclick="closeQrModal()">
        <div class="modal-content p-8 text-center max-w-sm" onclick="event.stopPropagation()">
            <h3 class="text-xl font-bold mb-4 text-slate-800">QR코드로 공유하기</h3>
            <img src="https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=https://dodam20190325.github.io/senior3&color=115E59" class="mx-auto mb-4 border-2 border-teal-100 p-2 rounded-xl" alt="QR Code">
            <p class="text-slate-500 text-sm">스마트폰 카메라로 스캔하시면<br>이 페이지로 바로 연결됩니다.</p>
            <button onclick="closeQrModal()" class="mt-6 px-6 py-2 bg-slate-100 rounded-lg text-slate-600 hover:bg-slate-200 font-bold transition">닫기</button>
        </div>
    </div>

    <script>
        function autoHyphen(target) { target.value = target.value.replace(/[^0-9]/g, '').replace(/^(\d{0,3})(\d{0,4})(\d{0,4})$/g, "$1-$2-$3").replace(/(\-{1,2})$/g, ""); }
        
        // ✅ [중요] 구글 앱스 스크립트 웹 앱 URL (사용자 제공)
        const SCRIPT_URL = "https://script.google.com/macros/s/AKfycbxYLe6rewSgbozP-DrvfVvWfNdHgdKEvKy15hHmDmKibuig0ltjA_22sl-SfWxjBKl52A/exec"; 
        
        const isDemoMode = false;
        const navLinks = document.querySelectorAll('.nav-link'); const sections = document.querySelectorAll('section');
        navLinks.forEach(link => { link.addEventListener('click', function() { navLinks.forEach(l => l.classList.remove('active')); this.classList.add('active'); }); });
        window.addEventListener('scroll', () => { let current = ''; sections.forEach(section => { const sectionTop = section.offsetTop; if (pageYOffset >= (sectionTop - 180)) { current = section.getAttribute('id'); } }); navLinks.forEach(link => { link.classList.remove('active'); if (link.getAttribute('href').includes(current)) { link.classList.add('active'); } }); });
        function resetNav() { navLinks.forEach(link => link.classList.remove('active')); }
        const menuBtn = document.getElementById('mobile-menu-btn'); const menu = document.getElementById('mobile-menu'); const mobileLinks = menu.querySelectorAll('a');
        menuBtn.addEventListener('click', function(e) { e.stopPropagation(); if (menu.classList.contains('hidden')) { menu.classList.remove('hidden'); menu.classList.add('block'); } else { menu.classList.add('hidden'); menu.classList.remove('block'); } });
        document.addEventListener('click', function(e) { if (!menu.classList.contains('hidden') && !menu.contains(e.target)) { menu.classList.add('hidden'); menu.classList.remove('block'); } });
        mobileLinks.forEach(link => { link.addEventListener('click', () => { menu.classList.add('hidden'); menu.classList.remove('block'); }); });
        
        function openModal(centerName) { 
            document.getElementById('selectedCenter').value = centerName; 
            document.getElementById('applicationModal').classList.add('modal-active'); 
            document.body.style.overflow = 'hidden'; 
            
            const resContainer = document.getElementById('residenceContainer'); 
            const labelLocal = document.getElementById('labelLocal'); 
            const resNote = document.getElementById('residenceNote'); 
            const termContainer = document.getElementById('termContainer');
            
            // 초기화
            document.querySelectorAll('input[name="residence"]').forEach(el => el.checked = false); 
            termContainer.innerHTML = ''; // 기수 선택 초기화

            // 기수 생성 로직 (다중 선택 체크박스 + 날짜 포함)
            let terms = [];
            
            if (centerName.includes('거제3동')) {
                // 거제3동 (월수금 09:30)
                terms = [
                    {val: '1기', label: '1기 (PC기초) : 02.23 ~ 02.28 (월수금)'},
                    {val: '2기', label: '2기 (PC기초) : 03.02 ~ 03.07 (화수금)'},
                    {val: '3기', label: '3기 (AI활용) : 03.16 ~ 03.21 (월수금)'},
                    {val: '4기', label: '4기 (AI활용) : 03.30 ~ 04.04 (월수금)'},
                    {val: '5기', label: '5기 (AI활용) : 04.06 ~ 04.11 (월수금)'}
                ];
            } else if (centerName.includes('유라시아')) {
                // 유라시아 (월수금 14:00)
                terms = [
                    {val: '1기', label: '1기 (PC기초) : 02.23 ~ 02.28 (월수금)'},
                    {val: '2기', label: '2기 (PC기초) : 03.02 ~ 03.07 (화수금)'},
                    {val: '3기', label: '3기 (AI활용) : 03.16 ~ 03.21 (월수금)'},
                    {val: '4기', label: '4기 (AI활용) : 03.30 ~ 04.04 (월수금)'},
                    {val: '5기', label: '5기 (AI활용) : 04.06 ~ 04.11 (월수금)'}
                ];
            } else if (centerName.includes('북구청')) {
                // 북구청 (월수금 10:00) - 전체 AI
                terms = [
                    {val: '1기', label: '1기 (AI활용) : 03.09 ~ 03.14 (월수금)'},
                    {val: '2기', label: '2기 (AI활용) : 03.23 ~ 03.28 (월수금)'},
                    {val: '3기', label: '3기 (AI활용) : 04.13 ~ 04.18 (월수금)'},
                    {val: '4기', label: '4기 (AI활용) : 04.20 ~ 04.25 (월수금)'}
                ];
            } else if (centerName.includes('부산도서관')) {
                // 부산도서관 (월수금 14:00) - 전체 AI
                terms = [
                    {val: '1기', label: '1기 (AI활용) : 03.09 ~ 03.14 (월수금)'},
                    {val: '2기', label: '2기 (AI활용) : 03.23 ~ 03.28 (월수금)'},
                    {val: '3기', label: '3기 (AI활용) : 04.13 ~ 04.18 (월수금)'},
                    {val: '4기', label: '4기 (AI활용) : 04.20 ~ 04.25 (월수금)'}
                ];
            }

            terms.forEach(t => {
                const wrapper = document.createElement('div');
                wrapper.className = 'flex items-start gap-2 mb-2';
                wrapper.innerHTML = `
                    <div class="flex items-center h-5">
                        <input type="checkbox" id="term_${t.val}" name="term" value="${t.val}" class="w-5 h-5 text-teal-600 rounded focus:ring-teal-500 border-gray-300 custom-checkbox">
                    </div>
                    <label for="term_${t.val}" class="text-slate-700 font-medium cursor-pointer text-sm leading-5">${t.label}</label>
                `;
                termContainer.appendChild(wrapper);
            });
            
            // 거주지 확인 로직
            if (centerName.includes('연제') || centerName.includes('거제3동')) { 
                resContainer.classList.remove('hidden'); 
                labelLocal.textContent = "연제구 거주"; 
                document.querySelector('input[value="local"]').setAttribute('data-label', '연제구'); 
                resNote.textContent = "* 연제구민 우선 선발"; 
            } else if (centerName.includes('북구')) { 
                resContainer.classList.remove('hidden'); 
                labelLocal.textContent = "북구 거주"; 
                document.querySelector('input[value="local"]').setAttribute('data-label', '북구'); 
                resNote.textContent = "* 북구민 우선 선발"; 
            } else { 
                resContainer.classList.add('hidden'); 
            } 
        }
        
        function closeModal() { document.getElementById('applicationModal').classList.remove('modal-active'); document.body.style.overflow = 'auto'; }
        function openQrModal() { document.getElementById('qrModal').classList.add('modal-active'); document.body.style.overflow = 'hidden'; }
        function closeQrModal() { document.getElementById('qrModal').classList.remove('modal-active'); document.body.style.overflow = 'auto'; }
        
        function submitToGoogleSheet(event) {
            event.preventDefault(); 
            const btn = document.getElementById('submitBtn'); 
            const originalText = btn.innerHTML; 
            const centerName = document.getElementById('selectedCenter').value; 
            const userName = document.getElementById('userName').value;
            
            // 유효성 검사
            const checkedTerms = Array.from(document.querySelectorAll('input[name="term"]:checked')).map(cb => cb.value);
            if (checkedTerms.length === 0) { alert("신청하실 기수를 하나 이상 선택해주세요."); return; }
            
            const ageGroupNode = document.querySelector('input[name="ageGroup"]:checked'); 
            if (!ageGroupNode) { alert("연령대를 선택해주세요."); return; } 
            const ageGroupValue = ageGroupNode.value;
            
            const genderNode = document.querySelector('input[name="gender"]:checked'); 
            if (!genderNode) { alert("성별을 선택해주세요."); return; } 
            const genderValue = genderNode.value;
            
            let residenceValue = "-"; 
            const resContainer = document.getElementById('residenceContainer'); 
            
            if (!resContainer.classList.contains('hidden')) { 
                const resNode = document.querySelector('input[name="residence"]:checked'); 
                if (!resNode) { alert("거주지를 선택해주세요."); return; } 
                
                if (resNode.value === 'local') { 
                    residenceValue = resNode.getAttribute('data-label') + " 거주"; 
                } else { 
                    residenceValue = "그 외 지역"; 
                } 
            }
            
            btn.innerHTML = '<span class="animate-pulse">전송 중... 잠시만 기다려주세요</span>'; 
            btn.disabled = true;
            
            // 교육장 이름 뒤에 선택한 기수 붙여서 전송
            const finalCenterName = `${centerName} (${checkedTerms.join(', ')})`;

            const formData = { 
                center: finalCenterName, 
                name: userName, 
                phone: document.getElementById('userPhone').value, 
                ageGroup: ageGroupValue, 
                gender: genderValue, 
                residence: residenceValue 
            };
            
            if (isDemoMode || SCRIPT_URL === "" || SCRIPT_URL.includes("your-script-url")) { 
                setTimeout(() => { alert(`[테스트 모드]\n${userName}님, 신청이 완료되었습니다!`); closeModal(); document.getElementById('applyForm').reset(); btn.innerHTML = originalText; btn.disabled = false; }, 1000); return; 
            }
            
            fetch(SCRIPT_URL, { method: "POST", mode: "no-cors", headers: { "Content-Type": "application/json", }, body: JSON.stringify(formData), })
            .then(() => { alert(`${userName}님, 신청이 완료되었습니다!\n담당자가 확인 후 연락드리겠습니다.`); closeModal(); document.getElementById('applyForm').reset(); })
            .catch(error => { console.error("Error:", error); alert("네트워크 오류가 발생했지만, 데이터가 전송되었을 수 있습니다.\n문제가 지속되면 문의처로 연락주세요."); })
            .finally(() => { btn.innerHTML = originalText; btn.disabled = false; });
        }
        
        document.getElementById('applicationModal').addEventListener('click', function(e) { if (e.target === this) { closeModal(); } });
    </script>
</body>
</html>

